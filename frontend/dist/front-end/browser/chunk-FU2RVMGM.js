import{$ as ce,$a as M,A as ae,Aa as De,Ba as Te,Ca as Ee,Da as Ie,Ea as Ne,Fa as ke,Ga as Fe,Ha as Me,Ia as Ae,Ja as Re,Ka as Le,La as Ve,Ma as $e,Na as Oe,Oa as Pe,Pa as Be,Q as F,Qa as He,R as oe,Ra as We,Sa as Ke,_ as le,aa as me,ba as se,ca as pe,da as de,ea as _e,fa as ge,j as J,l as Q,la as ue,m as X,ma as Ce,n as Y,na as fe,oa as xe,p as ee,pa as Se,q as te,ta as be,u as ie,ua as ye,v as ne,w as re,xa as ve,ya as we,z as k,za as he}from"./chunk-JS2QCX3E.js";import{Cb as f,Eb as l,Hc as N,Jc as j,Kc as U,Lc as Z,Ma as r,Na as w,Nb as c,Nc as q,Ob as _,Pb as y,Rb as D,Sb as T,Tb as E,Ua as G,Xa as h,Xb as v,Yb as H,Zb as I,_a as z,aa as K,cb as d,nb as s,qb as C,ra as g,rb as $,sa as u,sb as O,tb as a,ub as o,vb as b,wb as P,xa as S,xb as B,zb as x}from"./chunk-VXWA6INE.js";var A=class t{transform(i){return{PENDING:"Pending",IN_PROGRESS:"In Progress",COMPLETED:"Completed",UNASSIGNED:"Unassigned",null:"Unassigned"}[i]||i}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=z({name:"status",type:t,pure:!0})};var R=class{compare(i,e){let n=i.lastName?.toLowerCase()||"",m=e.lastName?.toLowerCase()||"";if(n===m){let p=i.firstName?.toLowerCase()||"",Ue=e.firstName?.toLowerCase()||"";return p.localeCompare(Ue)}return n.localeCompare(m)}};var L=class{accepts(i,e){let n=e.toLowerCase(),m=`${i.firstName} ${i.lastName}`.toLowerCase();return i.firstName.toLowerCase().includes(n)||i.lastName.toLowerCase().includes(n)||m.includes(n)}};var ze=(t,i)=>i.key;function Qe(t,i){if(t&1&&(a(0,"clr-dg-column",6),c(1),o()),t&2){let e=l().$implicit;s("clrDgField",e.key),r(),y(" ",e.label," ")}}function Xe(t,i){if(t&1&&(a(0,"clr-dg-column",7),c(1," Name "),b(2,"clr-dg-string-filter",8),o()),t&2){let e=l(2);s("clrDgSortBy",e.lastNameComparator),r(2),s("clrDgStringFilter",e.nameFilter)}}function Ye(t,i){if(t&1&&(P(0,1),d(1,Qe,2,2,"clr-dg-column",4)(2,Xe,3,2,"clr-dg-column",5),B()),t&2){let e=i.$implicit;s("ngSwitch",e.key),r(2),s("ngSwitchCase","name")}}function et(t,i){if(t&1&&c(0),t&2){let e=l();y(" ",e.emptyMessage," ")}}function tt(t,i){if(t&1){let e=x();a(0,"button",10),f("click",function(){g(e);let m=l().$implicit,p=l();return u(p.onDelete(m))}),b(1,"cds-icon",13),c(2," Delete "),o()}}function it(t,i){if(t&1&&(a(0,"span"),c(1),o()),t&2){let e=l(2).$implicit;r(),_(e.firstName+" "+e.lastName)}}function nt(t,i){if(t&1&&(a(0,"span"),c(1),v(2,"status"),o()),t&2){let e=l().$implicit,n=l().$implicit;r(),_(H(2,1,n[e.key]))}}function rt(t,i){if(t&1&&(a(0,"span"),c(1),v(2,"date"),o()),t&2){let e=l().$implicit,n=l().$implicit;r(),_(I(2,1,n[e.key],"MM/dd/yyyy"))}}function at(t,i){if(t&1&&(a(0,"span"),c(1),v(2,"date"),o()),t&2){let e=l().$implicit,n=l().$implicit;r(),_(I(2,1,n[e.key],"short"))}}function ot(t,i){if(t&1&&(a(0,"span"),c(1),v(2,"date"),o()),t&2){let e=l().$implicit,n=l().$implicit;r(),_(I(2,1,n[e.key],"short"))}}function lt(t,i){if(t&1&&(a(0,"span"),c(1),v(2,"status"),o()),t&2){let e=l().$implicit,n=l().$implicit;r(),_(H(2,1,n[e.key]))}}function ct(t,i){if(t&1&&(a(0,"span"),c(1),o()),t&2){let e=l().$implicit,n=l().$implicit;r(),_(n[e.key])}}function mt(t,i){if(t&1&&(a(0,"clr-dg-cell"),P(1,1),d(2,it,2,1,"span",14)(3,nt,3,3,"span",14)(4,rt,3,4,"span",14)(5,at,3,4,"span",14)(6,ot,3,4,"span",14)(7,lt,3,3,"span",14)(8,ct,2,1,"span",15),B(),o()),t&2){let e=i.$implicit;r(),s("ngSwitch",e.key),r(),s("ngSwitchCase","name"),r(),s("ngSwitchCase","status"),r(),s("ngSwitchCase","deadline"),r(),s("ngSwitchCase","createdAt"),r(),s("ngSwitchCase","updatedAt"),r(),s("ngSwitchCase","assignedEmployeeName")}}function st(t,i){if(t&1){let e=x();a(0,"clr-dg-row",9),f("click",function(){let m=g(e).$implicit,p=l();return u(p.openDetail(m))}),a(1,"clr-dg-action-overflow")(2,"button",10),f("click",function(){let m=g(e).$implicit,p=l();return u(p.onEdit(m))}),b(3,"cds-icon",11),c(4," Edit "),o(),d(5,tt,3,0,"button",12),o(),$(6,mt,9,7,"clr-dg-cell",null,ze),o()}if(t&2){let e=i.$implicit,n=l();s("clrDgItem",e)("clrDgDetailOpenLabel","View details for "+e[n.primaryLabelKey])("clrDgDetailCloseLabel","Close details for "+e[n.primaryLabelKey]),r(5),C(n.isAdmin?5:-1),r(),O(n.columns)}}function pt(t,i){if(t&1&&(a(0,"tr")(1,"td"),c(2),o(),a(3,"td"),c(4),o()()),t&2){let e=i.$implicit,n=l().$implicit,m=l();r(2),_(m.formatKey(e)),r(2),_(n[e])}}function dt(t,i){if(t&1&&(a(0,"clr-dg-detail")(1,"clr-dg-detail-header"),c(2),o(),a(3,"clr-dg-detail-body")(4,"b",16),c(5,"Details"),o(),a(6,"table",17)(7,"tr")(8,"th"),c(9,"Property"),o(),a(10,"th"),c(11,"Value"),o()(),d(12,pt,5,2,"tr",18),o()()()),t&2){let e=i.$implicit,n=l();r(2),_(e[n.primaryLabelKey]),r(10),s("ngForOf",n.getAllKeys(e))}}var Ge=class t{constructor(i){this.authService=i}columns=[];data=[];emptyMessage="";isAdmin=!1;editClick=new S;deleteClick=new S;selectedRow=[];lastNameComparator=new R;nameFilter=new L;ngOnInit(){this.isAdmin=this.authService.isAdmin()}get isListEmpty(){return this.data.length===0}get primaryLabelKey(){return["title","name","firstName","taskName"].find(e=>this.data.length>0&&e in this.data[0])||"id"}openDetail(i){this.selectedRow=[i]}getAllKeys(i){return Object.keys(i).filter(e=>i[e]!==void 0)}formatKey(i){return i.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}onRenderRangeChange(i){console.log(`Rendering rows from ${i.start} to ${i.end}`),console.log(`Total rendered rows: ${i.end-i.start}`)}onEdit(i){console.log("Editing row:",i),this.editClick.emit(i)}onDelete(i){console.log("Deleting row:",i),this.deleteClick.emit(i)}static \u0275fac=function(e){return new(e||t)(w(M))};static \u0275cmp=h({type:t,selectors:[["app-table"]],inputs:{columns:"columns",data:"data",emptyMessage:"emptyMessage"},outputs:{editClick:"editClick",deleteClick:"deleteClick"},decls:9,vars:3,consts:[[2,"height","calc(100vh - 250px)"],[3,"ngSwitch"],["ClrVirtualScroll","",3,"renderedRangeChange","clrVirtualRowsOf"],[4,"clrIfDetail"],[3,"clrDgField",4,"ngSwitchDefault"],[3,"clrDgSortBy",4,"ngSwitchCase"],[3,"clrDgField"],[3,"clrDgSortBy"],[3,"clrDgStringFilter"],[3,"click","clrDgItem","clrDgDetailOpenLabel","clrDgDetailCloseLabel"],[1,"action-item",3,"click"],["shape","note"],[1,"action-item"],["shape","trash"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["cds-text","medium"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(a(0,"clr-datagrid",0),$(1,Ye,3,2,"ng-container",1,ze),a(3,"clr-dg-placeholder"),d(4,et,1,1),o(),d(5,st,8,4,"ng-template",2),f("renderedRangeChange",function(p){return n.onRenderRangeChange(p)}),d(6,dt,13,2,"clr-dg-detail",3),a(7,"clr-dg-footer"),c(8),o()()),e&2&&(r(),O(n.columns),r(3),C(n.isListEmpty?4:-1),r(),s("clrVirtualRowsOf",n.data),r(3),y("",n.data.length," records found"))},dependencies:[q,j,U,Z,k,A,Ke,Ae,Re,Ne,Ee,Ve,$e,Le,Oe,Ie,ke,Be,Pe,Fe,He,We,Me,De,he,Te,we,N,oe,F,ue],encapsulation:2})};var V=class t{searchText=G("");constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};function gt(t,i){if(t&1&&(a(0,"span",4),c(1),a(2,"span",5),c(3),o()()),t&2){let e=i.$implicit;r(),y(" ",e.label," "),r(2),_(e.value)}}function ut(t,i){if(t&1&&(a(0,"div",2),d(1,gt,4,2,"span",3),o()),t&2){let e=l();r(),s("ngForOf",e.metrics)}}function Ct(t,i){if(t&1){let e=x();a(0,"div",2)(1,"button",6),f("click",function(){g(e);let m=l(2);return u(m.triggerNewAction())}),c(2,"New"),o()()}}function ft(t,i){if(t&1&&d(0,Ct,3,0,"div",2),t&2){let e=l();C(e.isAdmin?0:-1)}}function xt(t,i){if(t&1){let e=x();a(0,"div",2)(1,"form",13)(2,"clr-date-container")(3,"label",14),c(4,"Start Date"),o(),a(5,"input",15),E("ngModelChange",function(m){g(e);let p=l(2);return T(p.startDate,m)||(p.startDate=m),u(m)}),o()()()(),a(6,"div",2)(7,"form",13)(8,"clr-date-container")(9,"label",14),c(10,"End Date"),o(),a(11,"input",16),E("ngModelChange",function(m){g(e);let p=l(2);return T(p.endDate,m)||(p.endDate=m),u(m)}),o()()()()}if(t&2){let e=l(2);r(5),D("ngModel",e.startDate),r(6),D("ngModel",e.endDate)}}function St(t,i){t&1&&(a(0,"clr-tooltip",12),b(1,"cds-icon",17),a(2,"clr-tooltip-content",18),c(3," Leave dates blank to show all tasks "),o()()),t&2&&(r(2),s("clrPosition","left")("clrSize","sm"))}function bt(t,i){if(t&1){let e=x();a(0,"div",2)(1,"form",7)(2,"clr-select-container")(3,"label",8),c(4,"Select Report:"),o(),a(5,"select",9),E("ngModelChange",function(m){g(e);let p=l();return T(p.selectedReport,m)||(p.selectedReport=m),u(m)}),a(6,"option",10),c(7,"Overdue Tasks Report"),o(),a(8,"option",11),c(9,"Task Activity Report"),o()()()()(),d(10,xt,12,2),a(11,"div",2),d(12,St,4,2,"clr-tooltip",12),a(13,"button",6),f("click",function(){g(e);let m=l();return u(m.generateReport())}),c(14,"Generate"),o()()}if(t&2){let e=l();r(5),D("ngModel",e.selectedReport),r(5),C(e.selectedReport==="activity"?10:-1),r(2),C(e.selectedReport==="activity"?12:-1)}}var je=class t{constructor(i,e){this.searchService=i;this.authService=e;this.isAdmin=this.authService.isAdmin()}title="";metrics=[];metricsEnabled=!0;searchEnabled=!0;newActionBtnEnabled=!0;reportSelection=!1;newAction=new S;reportGenerated=new S;selectedReport="overdue";startDate="";endDate="";isAdmin;triggerNewAction(){this.newAction.emit()}generateReport(){this.reportGenerated.emit({type:this.selectedReport,startDate:this.startDate,endDate:this.endDate})}handleInput(i){let e=i.target;this.searchService.searchText.set(e.value)}static \u0275fac=function(e){return new(e||t)(w(V),w(M))};static \u0275cmp=h({type:t,selectors:[["app-sub-header"]],inputs:{title:"title",metrics:"metrics",metricsEnabled:"metricsEnabled",searchEnabled:"searchEnabled",newActionBtnEnabled:"newActionBtnEnabled",reportSelection:"reportSelection"},outputs:{newAction:"newAction",reportGenerated:"reportGenerated"},decls:5,vars:3,consts:[[1,"clr-container",2,"padding-bottom","0.25rem"],[1,"clr-row","clr-align-items-center","clr-justify-content-between"],[1,"clr-flex-column"],["class","label label-info",4,"ngFor","ngForOf"],[1,"label","label-info"],[1,"badge","badge-info"],[1,"btn","btn-primary",3,"click"],["clrForm","","clrLayout","horizontal","clrLabelSize","4",2,"padding","0 0 0 0.25rem"],["for","reportType"],["clrSelect","","id","reportType","name","reportType",3,"ngModelChange","ngModel"],["value","overdue"],["value","activity"],[2,"padding-right","0.5rem"],["clrForm","","clrLayout","horizontal","clrLabelSize","3",2,"padding","0"],["for","endDate"],["type","date","id","startDate","name","date","clrDate","","autocomplete","off",3,"ngModelChange","ngModel"],["type","date","id","endDate","name","date","clrDate","","autocomplete","off",3,"ngModelChange","ngModel"],["clrTooltipTrigger","","shape","info-circle","size","24"],[3,"clrPosition","clrSize"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1),d(2,ut,2,1,"div",2)(3,ft,1,1)(4,bt,15,3),o()()),e&2&&(r(2),C(n.metricsEnabled?2:-1),r(),C(n.newActionBtnEnabled?3:-1),r(),C(n.reportSelection?4:-1))},dependencies:[N,k,te,ne,re,J,ie,Q,X,ee,Y,Se,Ce,fe,xe,ve,de,_e,ge,ye,be,le,ae,pe,ce,se,me,F],encapsulation:2})};export{Ge as a,je as b};
